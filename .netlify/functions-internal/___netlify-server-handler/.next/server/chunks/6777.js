exports.id=6777,exports.ids=[6777],exports.modules={70054:(e,s,a)=>{Promise.resolve().then(a.bind(a,80597))},80597:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Z});var t=a(60080),r=a(9885),n=a(57114),i=a(97849),l=a(37004),c=a(80443),o=a(45894),d=a(13303),m=a(91672),x=a(5987),h=a(7382),g=a(69518),u=a(3514),f=a(90092),p=a(68384),j=a(49424),N=a(24796),y=a(75247),v=a(33776),b=a(11440),w=a.n(b),k=a(52451),_=a.n(k);let I=[{name:"Dashboard",href:"/admin",icon:i.Z},{name:"Products",href:"/admin/products",icon:l.Z},{name:"Carousel",href:"/admin/carousel",icon:c.Z},{name:"Orders",href:"/admin/orders",icon:o.Z},{name:"Shipping",href:"/admin/shipping",icon:d.Z},{name:"Users",href:"/admin/users",icon:m.Z},{name:"Settings",href:"/admin/settings",icon:x.Z}];function S({children:e}){let[s,a]=(0,r.useState)(!1),{admin:i,logout:l,isAuthenticated:c,loading:o}=(0,v.J3)(),d=(0,n.useRouter)(),m=(0,n.usePathname)(),x="/admin/login"===m;if((0,r.useEffect)(()=>{x||o||c||d.replace("/admin/login")},[x,o,c,d]),(0,r.useEffect)(()=>{x&&c&&!o&&d.replace("/admin")},[x,c,o,d]),x)return t.jsx(t.Fragment,{children:e});if(o)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!c)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Redirecting..."})]})});let b=async()=>{await l(),d.push("/admin/login")};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(y.yo,{open:s,onOpenChange:a,children:t.jsx(y.ue,{side:"left",className:"w-64 p-0",children:t.jsx(C,{onNavigate:()=>a(!1)})})}),t.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:t.jsx(C,{})}),(0,t.jsxs)("div",{className:"lg:pl-64",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[t.jsx(p.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>a(!0),children:t.jsx(h.Z,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"flex flex-1 gap-x-4 lg:gap-x-6",children:[(0,t.jsxs)("div",{className:"relative flex flex-1",children:[t.jsx(g.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),t.jsx(j.I,{placeholder:"Search...",className:"pl-10 w-full max-w-md"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,t.jsxs)(p.z,{variant:"ghost",size:"icon",className:"relative",children:[t.jsx(u.Z,{className:"h-6 w-6"}),t.jsx(N.C,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs flex items-center justify-center",children:"3"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:i?.full_name}),t.jsx("p",{className:"text-xs text-gray-500",children:i?.role})]}),t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-amber-500 to-orange-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:i?.full_name.charAt(0)})})]}),t.jsx(p.z,{variant:"ghost",size:"icon",onClick:b,children:t.jsx(f.Z,{className:"h-5 w-5"})})]})]})]}),t.jsx("main",{className:"py-6",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}function C({onNavigate:e}){return(0,t.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white border-r border-gray-200 px-6 pb-4",children:[t.jsx("div",{className:"flex h-16 shrink-0 items-center",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"relative w-8 h-8",children:t.jsx(_(),{src:"/alankarika-logo.png",alt:"Alankarika Logo",fill:!0,className:"object-contain"})}),t.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Admin Panel"})]})}),t.jsx("nav",{className:"flex flex-1 flex-col",children:t.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:t.jsx("li",{children:t.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:I.map(s=>t.jsx("li",{children:(0,t.jsxs)(w(),{href:s.href,onClick:e,className:"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold hover:bg-amber-50 hover:text-amber-600 transition-colors",children:[t.jsx(s.icon,{className:"h-6 w-6 shrink-0"}),s.name]})},s.name))})})})})]})}function Z({children:e}){let s=(0,v.YY)();return t.jsx(v.W,{value:s,children:t.jsx(S,{children:e})})}},33776:(e,s,a)=>{"use strict";a.d(s,{J3:()=>l,W:()=>o,YY:()=>c});var t=a(9885),r=a(22730);let n=(0,r.createClient)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM"),i=(0,t.createContext)(null),l=()=>{let e=(0,t.useContext)(i);if(!e)throw Error("useAdminAuth must be used within AdminAuthProvider");return e},c=()=>{let[e,s]=(0,t.useState)(null),[a,r]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("admin_session_token"),a=localStorage.getItem("admin_data");if(e&&a)try{let t=JSON.parse(a);s(t);let r="https:"===window.location.protocol;document.cookie=`admin_session_token=${e}; path=/; max-age=604800; ${r?"secure; ":""}samesite=strict`}catch(e){console.error("Failed to parse admin data:",e),localStorage.removeItem("admin_session_token"),localStorage.removeItem("admin_data")}}catch(e){console.error("Session check failed:",e)}finally{r(!1)}})()},[]);let i=async(e,a)=>{try{r(!0);try{let t=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}),r=await t.json();if(!r.success)return{success:!1,error:r.error};{localStorage.setItem("admin_session_token",r.session_token),localStorage.setItem("admin_data",JSON.stringify(r.admin));let e="https:"===window.location.protocol;return document.cookie=`admin_session_token=${r.session_token}; path=/; max-age=604800; ${e?"secure; ":""}samesite=strict`,s(r.admin),{success:!0}}}catch(e){return{success:!1,error:"Login failed"}}}catch(e){return console.error("Login failed:",e),{success:!1,error:"Login failed"}}finally{r(!1)}},l=async()=>{try{let e=localStorage.getItem("admin_session_token");e&&await n.from("admin_sessions").delete().eq("session_token",e),localStorage.removeItem("admin_session_token"),localStorage.removeItem("admin_data"),document.cookie="admin_session_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",s(null)}catch(e){console.error("Logout failed:",e)}};return{admin:e,loading:a,login:i,logout:l,isAuthenticated:!!e}},o=i.Provider},63114:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>c});var t=a(17536);let r=(0,t.createProxy)(String.raw`C:\Users\ANIKET\Documents\jewllery-main\jewllery-main\app\admin\layout.tsx`),{__esModule:n,$$typeof:i}=r,l=r.default,c=l}};