"use strict";exports.id=8911,exports.ids=[8911],exports.modules={98911:(e,i,l)=>{l.d(i,{Z:()=>c});var a=l(60080),s=l(9885),t=l(51839),n=l(68384),r=l(49424),o=l(58698),d=l(87502);function c({open:e,onClose:i,onSuccess:l}){let{login:c,register:m,loading:u}=(0,o.useUser)(),[g,x]=(0,s.useState)("login"),[b,h]=(0,s.useState)({name:"",email:"",mobile:""}),[f,p]=(0,s.useState)(""),j=e=>{h({...b,[e.target.name]:e.target.value})},v=async e=>{e.preventDefault(),p("");let a=await c(b.mobile);a.success?((0,d.Am)({title:"Login successful!"}),l(),i()):(p(a.error||"Login failed"),(0,d.Am)({title:"Login failed",description:a.error||"Login failed",variant:"destructive"}))},N=async e=>{e.preventDefault(),p("");let a=await m(b.name,b.email,b.mobile);a.success?((0,d.Am)({title:"Registration successful!"}),l(),i()):(p(a.error||"Registration failed"),(0,d.Am)({title:"Registration failed",description:a.error||"Registration failed",variant:"destructive"}))};return a.jsx(t.Vq,{open:e,onOpenChange:e=>!e&&i(),children:(0,a.jsxs)(t.cZ,{children:[(0,a.jsxs)(t.fK,{children:[(0,a.jsxs)(t.$N,{children:["login"===g?"Login":"Register"," to Continue"]}),a.jsx(t.Be,{children:"login"===g?"Login with your mobile number to access your account.":"Register a new account with your name, email, and mobile number."})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[a.jsx(n.z,{variant:"login"===g?"default":"outline",onClick:()=>x("login"),className:"flex-1",children:"Login"}),a.jsx(n.z,{variant:"register"===g?"default":"outline",onClick:()=>x("register"),className:"flex-1",children:"Register"})]}),"login"===g?(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[a.jsx(r.I,{name:"mobile",placeholder:"Mobile Number",value:b.mobile,onChange:j,required:!0,disabled:u}),f&&a.jsx("div",{className:"text-red-600 text-sm",children:f}),a.jsx(n.z,{type:"submit",className:"w-full",disabled:u,children:u?"Logging in...":"Login"})]}):(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[a.jsx(r.I,{name:"name",placeholder:"Full Name",value:b.name,onChange:j,required:!0,disabled:u}),a.jsx(r.I,{name:"email",type:"email",placeholder:"Email",value:b.email,onChange:j,required:!0,disabled:u}),a.jsx(r.I,{name:"mobile",placeholder:"Mobile Number",value:b.mobile,onChange:j,required:!0,disabled:u}),f&&a.jsx("div",{className:"text-red-600 text-sm",children:f}),a.jsx(n.z,{type:"submit",className:"w-full",disabled:u,children:u?"Registering...":"Register"})]})]})})}}};