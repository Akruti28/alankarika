(()=>{var e={};e.id=7840,e.ids=[7840],e.modules={52213:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=52213,e.exports=t},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},5230:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>w,originalPathname:()=>q,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>k});var s={};r.r(s),r.d(s,{POST:()=>d}),r(95655);var a=r(83323),i=r(54647),n=r(66886),o=r(63433),u=r(40160);let c=(0,o.createClient)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM");async function d(e){try{let t=await e.text(),{username:r,password:s}=JSON.parse(t);if(!r||!s)return n.Z.json({success:!1,error:"Username and password are required"},{status:400});if("alankarika_admin"===r&&"alankarika@2025"===s){let e={id:"1",username:"alankarika_admin",email:"admin@alankarika.com",full_name:"Alankarika Administrator",role:"super_admin",is_active:!0,last_login:new Date().toISOString(),created_at:new Date().toISOString()},t=l();return n.Z.json({success:!0,admin:e,session_token:t})}try{let{data:e,error:t}=await c.from("admin_users").select("*").eq("username",r).eq("is_active",!0).single();if(t||!e)return n.Z.json({success:!1,error:"Invalid username or password"},{status:401});let a=await u.ZP.compare(s,e.password_hash);if(!a)return n.Z.json({success:!1,error:"Invalid username or password"},{status:401});let i=l(),o=new Date;o.setDate(o.getDate()+7);try{let{error:t}=await c.from("admin_sessions").insert({admin_id:e.id,session_token:i,expires_at:o.toISOString()});await c.from("admin_users").update({last_login:new Date().toISOString()}).eq("id",e.id)}catch(e){}let{password_hash:d,...p}=e;return n.Z.json({success:!0,admin:p,session_token:i})}catch(e){return n.Z.json({success:!1,error:"Database authentication failed"},{status:401})}}catch(e){return n.Z.json({success:!1,error:"Login failed"},{status:500})}}function l(){return btoa(Math.random().toString()).substr(10,40)+Date.now().toString(36)}let p=a.AppRouteRouteModule,m=new p({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/auth/login/route",pathname:"/api/admin/auth/login",filename:"route",bundlePath:"app/api/admin/auth/login/route"},resolvedPagePath:"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\api\\admin\\auth\\login\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:x,headerHooks:w,staticGenerationBailout:k}=m,q="/api/admin/auth/login/route"}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[6405,6886,3433,160],()=>r(5230));module.exports=s})();