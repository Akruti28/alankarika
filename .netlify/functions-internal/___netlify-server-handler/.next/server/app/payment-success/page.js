(()=>{var e={};e.id=6685,e.ids=[6685],e.modules={52213:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=52213,e.exports=s},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},92028:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>c});var r=t(73137),i=t(54647),a=t(4183),n=t.n(a),l=t(71775),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=r.AppPageRouteModule,c=["",{children:["payment-success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64907)),"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\payment-success\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,84075)),"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\payment-success\\page.tsx"],m="/payment-success/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new o({definition:{kind:i.x.APP_PAGE,page:"/payment-success/page",pathname:"/payment-success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19556:(e,s,t)=>{Promise.resolve().then(t.bind(t,52479))},52479:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var r=t(60080),i=t(9885),a=t(57114),n=t(91745),l=t(96253),d=t(37004),o=t(13303),c=t(85574),x=t(50169),m=t(37631),p=t(68384),h=t(97052),u=t(24796),g=t(11440),j=t.n(g),y=t(52451),f=t.n(y),b=t(22730),N=t(24754),v=t(53257),w=t.n(v),E=t(13899),_=t(98109);let k=(0,b.createClient)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM");function D(){let e=(0,a.useSearchParams)(),s=e.get("orderId"),[t,g]=(0,i.useState)(null),[y,b]=(0,i.useState)(!0);(0,i.useEffect)(()=>{s?v():b(!1)},[s]);let v=async()=>{try{let e=sessionStorage.getItem("paymentSuccessOrderData");if(e){let s=JSON.parse(e);g(s),sessionStorage.removeItem("paymentSuccessOrderData")}else{let e=localStorage.getItem("lastOrderData");if(e){let t=JSON.parse(e);s&&(t.id=s),g(t)}else if(s&&!s.startsWith("temp_")){let{data:e,error:t}=await k.from("orders").select("*").eq("id",s).single();t?D():g(e)}else D()}}catch(e){D()}finally{b(!1)}},D=()=>{let e={id:s||"temp_"+Date.now(),customer_name:"Test Customer",customer_email:"customer@example.com",customer_phone:"+91 9876543210",customer_address:"Test Address, Test City, Test State - 123456",items:[{id:1,name:"Rajwada Kundan Necklace",price:45e3,quantity:1,image:"https://images.pexels.com/photos/1190298/pexels-photo-1190298.jpeg?auto=compress&cs=tinysrgb&w=400"}],total_amount:45e3,payment_status:"paid",payment_method:"online",razorpay_payment_id:"pay_test_"+Date.now(),created_at:new Date().toISOString(),status:"confirmed"};g(e)},C=async()=>{let e=document.getElementById("receipt-content");if(e&&t)try{let s=await w()(e,{scale:2,useCORS:!0,allowTaint:!0}),r=s.toDataURL("image/png"),i=new N.ZP("p","mm","a4"),a=190*s.height/s.width,n=a,l=10;for(i.addImage(r,"PNG",10,l,190,a),n-=297;n>=0;)l=n-a+10,i.addPage(),i.addImage(r,"PNG",10,l,190,a),n-=297;i.save(`Alankaarika-Receipt-${t.id}.pdf`)}catch(e){alert("Error generating PDF. Please try again.")}};return y?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 py-8 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):t?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 py-8",children:[r.jsx(_.Z,{}),r.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[r.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(l.Z,{className:"w-12 h-12 text-green-600"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Thank you for your purchase from अलंकारिका"})]}),r.jsx(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:(0,r.jsxs)(h.Zb,{className:"mb-8",children:[r.jsx(h.Ol,{children:(0,r.jsxs)(h.ll,{className:"flex items-center gap-2",children:[r.jsx(d.Z,{className:"w-5 h-5"}),"Order Details"]})}),(0,r.jsxs)(h.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),r.jsx("p",{className:"font-semibold",children:t.id})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),r.jsx("p",{className:"font-semibold",children:"cod"===t.payment_method?"Cash on Delivery":"Online Payment"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Amount Paid"}),r.jsx("p",{className:"font-semibold text-green-600",children:(0,E.x)(t.total_amount)})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx(u.C,{className:"bg-green-100 text-green-800",children:"Confirmed"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment ID"}),r.jsx("p",{className:"font-semibold text-xs",children:t.razorpay_payment_id})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),r.jsx("p",{className:"font-semibold",children:new Date(t.created_at).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Customer Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Name:"}),r.jsx("p",{className:"font-semibold",children:t.customer_name})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Email:"}),r.jsx("p",{className:"font-semibold",children:t.customer_email})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Phone:"}),r.jsx("p",{className:"font-semibold",children:t.customer_phone})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Address:"}),r.jsx("p",{className:"font-semibold",children:t.customer_address})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),r.jsx("div",{className:"space-y-4",children:t.items.map((e,s)=>{let t=e.image&&""!==e.image.trim()?e.image:"/alankarika-logo.png";return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx(f(),{src:t,alt:e.name,width:64,height:64,className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.target.src="/alankarika-logo.png"}}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-semibold",children:(0,E.x)(e.price*e.quantity)})})]},s)})})]})]})]})}),r.jsx(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,r.jsxs)(h.Zb,{className:"mb-8",children:[r.jsx(h.Ol,{children:(0,r.jsxs)(h.ll,{className:"flex items-center gap-2",children:[r.jsx(o.Z,{className:"w-5 h-5"}),"What's Next?"]})}),r.jsx(h.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Order Confirmation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"You'll receive an email confirmation shortly with your order details."})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Processing & Crafting"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Our artisans will carefully prepare your jewelry. This may take 2-3 business days."})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Shipping & Delivery"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your order will be shipped with tracking information. Delivery within 5-7 business days."})]})]})]})})]})}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)(p.z,{onClick:C,className:"w-full sm:w-auto bg-amber-600 hover:bg-amber-700 text-white",children:[r.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Download Receipt"]}),(0,r.jsxs)(p.z,{onClick:()=>{let e=encodeURIComponent(`Hi! I just completed my payment for Order ID: ${t?.id}. Can you provide me with the order tracking details?`);window.open(`https://wa.me/9769432565?text=${e}`,"_blank")},className:"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white",children:[r.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Track via WhatsApp"]}),r.jsx(p.z,{asChild:!0,variant:"outline",className:"w-full sm:w-auto",children:(0,r.jsxs)(j(),{href:"/",children:[r.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Continue Shopping"]})})]}),r.jsx("div",{id:"receipt-content",style:{position:"absolute",left:"-9999px",top:"-9999px"},children:(0,r.jsxs)("div",{className:"receipt-container",style:{width:"800px",padding:"40px",backgroundColor:"white",fontFamily:"Arial, sans-serif"},children:[r.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:r.jsx("img",{src:"/alankarika-logo.png",alt:"Alankarika Logo",style:{width:"80px",height:"80px",margin:"0 auto 10px",display:"block"}})}),(0,r.jsxs)("div",{style:{textAlign:"center",borderBottom:"3px solid #D97706",paddingBottom:"30px",marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#D97706",marginBottom:"10px"},children:"अलंकारिका"}),r.jsx("div",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"10px"},children:"Traditional Jewelry Collection"}),r.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#059669",backgroundColor:"#D1FAE5",padding:"10px 20px",borderRadius:"8px",display:"inline-block"},children:"PAYMENT RECEIPT"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"30px"},children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Order Details"}),(0,r.jsxs)("div",{style:{lineHeight:"1.8"},children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Order ID:"})," ",t.id]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Payment ID:"})," ",t.razorpay_payment_id]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Order Date:"})," ",new Date(t.created_at).toLocaleDateString()]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Payment Method:"})," ","cod"===t.payment_method?"Cash on Delivery":"Online Payment"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Status:"})," ",r.jsx("span",{style:{color:"#059669",fontWeight:"bold"},children:"Confirmed"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Customer Details"}),(0,r.jsxs)("div",{style:{lineHeight:"1.8"},children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Name:"})," ",t.customer_name]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Email:"})," ",t.customer_email]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Phone:"})," ",t.customer_phone]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Address:"})," ",t.customer_address]})]})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"30px"},children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Order Items"}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #E5E7EB"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#F9FAFB"},children:[r.jsx("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"left",fontWeight:"bold"},children:"Product Name"}),r.jsx("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"center",fontWeight:"bold"},children:"Quantity"}),r.jsx("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:"Price"}),r.jsx("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:"Total"})]})}),r.jsx("tbody",{children:t.items.map((e,s)=>(0,r.jsxs)("tr",{children:[r.jsx("td",{style:{padding:"12px",border:"1px solid #E5E7EB"},children:e.name}),r.jsx("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"center"},children:e.quantity}),r.jsx("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right"},children:(0,E.x)(e.price)}),r.jsx("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:(0,E.x)(e.price*e.quantity)})]},s))})]})]}),r.jsx("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"8px",border:"2px solid #D97706",marginBottom:"30px"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",color:"#1F2937"},children:"Total Amount Paid:"}),r.jsx("span",{style:{fontSize:"24px",fontWeight:"bold",color:"#059669"},children:(0,E.x)(t.total_amount)})]})}),(0,r.jsxs)("div",{style:{textAlign:"center",paddingTop:"20px",borderTop:"2px solid #F3F4F6",color:"#6B7280"},children:[r.jsx("div",{style:{marginBottom:"10px"},children:r.jsx("strong",{children:"Thank you for your purchase from अलंकारिका!"})}),r.jsx("div",{style:{fontSize:"14px"},children:"For any queries, contact us at support@alankaarika.com | +91 9876543210"}),r.jsx("div",{style:{fontSize:"12px",marginTop:"10px"},children:"This is a computer-generated receipt and does not require a signature."})]})]})}),(0,r.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center mt-8 p-6 bg-amber-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:"Share Your Experience!"}),r.jsx("p",{className:"text-sm text-amber-700 mb-4",children:"We'd love to see how our jewelry looks on you. Share your photos with us on social media and get featured on our website!"}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:r.jsx("span",{className:"text-white text-sm",children:"f"})}),r.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-pink-700 transition-colors",children:r.jsx("span",{className:"text-white text-sm",children:"i"})}),r.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-700 transition-colors",children:r.jsx("span",{className:"text-white text-sm",children:"p"})})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 py-8 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't find your order details."}),r.jsx(p.z,{asChild:!0,children:r.jsx(j(),{href:"/",children:"Return to Home"})})]})})}},13899:(e,s,t)=>{"use strict";function r(e){return`₹${new Intl.NumberFormat("en-US").format(e)}`}t.d(s,{x:()=>r})},64907:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>d});var r=t(17536);let i=(0,r.createProxy)(String.raw`C:\Users\ANIKET\Documents\jewllery-main\jewllery-main\app\payment-success\page.tsx`),{__esModule:a,$$typeof:n}=i,l=i.default,d=l}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3447,1971,2451,6206,5138,2730,1745,8203,9010,9343,6261,8384,4796,7052,8109],()=>t(92028));module.exports=r})();