(()=>{var e={};e.id=7930,e.ids=[7930],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},7922:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>u,routeModule:()=>m,tree:()=>c});var r=t(73137),i=t(54647),l=t(4183),a=t.n(l),n=t(71775),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=r.AppPageRouteModule,c=["",{children:["admin",{children:["carousel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9904)),"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\admin\\carousel\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63114)),"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,84075)),"C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\ANIKET\\Documents\\jewllery-main\\jewllery-main\\app\\admin\\carousel\\page.tsx"],x="/admin/carousel/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:i.x.APP_PAGE,page:"/admin/carousel/page",pathname:"/admin/carousel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},78630:(e,s,t)=>{Promise.resolve().then(t.bind(t,11071))},11071:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var r=t(60080),i=t(9885),l=t(52451),a=t.n(l),n=t(22385),o=t(80443),d=t(8042),c=t(91964),u=t(85335),x=t(40834),h=t(34010),m=t(26303),p=t(68384),g=t(97052),j=t(49424),v=t(33478),_=t(66698),f=t(24796),y=t(51839),b=t(54747),w=t(25072),N=t(22730),C=t(10345);let I=(0,N.createClient)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM"),q=async()=>{let{data:e,error:s}=await I.from("carousel_slides").select("*").order("display_order",{ascending:!0});if(s)throw console.error("Error fetching carousel slides:",s),s;return e};function S(){let[e,s]=(0,i.useState)([]),[t,l]=(0,i.useState)(!1),[N,S]=(0,i.useState)(!1),[P,E]=(0,i.useState)({}),[Z,k]=(0,i.useState)(!1),[A,z]=(0,i.useState)(null),D=(0,w.c)(q,"carousel_slides",[t,Z]);(0,i.useEffect)(()=>{D&&s(D)},[D]);let O=async e=>{let s=e.name.split(".").pop(),t=`${Date.now()}.${s}`,{data:r,error:i}=await I.storage.from("carousel-images").upload(t,e,{upsert:!0});if(i)throw i;let{data:l}=I.storage.from("carousel-images").getPublicUrl(t);return l.publicUrl},M=async s=>{s.preventDefault(),k(!0);try{let s=P.image_url||"";if(A){if(!(s=await O(A)))throw Error("Image upload failed")}else if(!s){C.ZP.error("Please select an image."),k(!1);return}let t={title:P.title,subtitle:P.subtitle,image_url:s,button_text:P.button_text||"Explore Collection",button_link:P.button_link||"/collections",display_order:P.display_order||e.length+1,is_active:P.is_active??!0,updated_at:new Date().toISOString()};if(N&&P.id){let{error:e}=await I.from("carousel_slides").update(t).eq("id",P.id);if(e)throw e;C.ZP.success("Carousel slide updated successfully!")}else{let{error:e}=await I.from("carousel_slides").insert([{...t,created_at:new Date().toISOString()}]);if(e)throw e;C.ZP.success("Carousel slide added successfully!")}l(!1),V()}catch(e){console.error("Error saving carousel slide:",e),C.ZP.error("Error saving carousel slide")}finally{k(!1)}},U=e=>{E(e),S(!0),l(!0)},T=async e=>{if(confirm("Are you sure you want to delete this carousel slide?"))try{let{error:s}=await I.from("carousel_slides").delete().eq("id",e);if(s)throw s;C.ZP.success("Carousel slide deleted successfully!")}catch(e){console.error("Error deleting carousel slide:",e),C.ZP.error("Error deleting carousel slide")}},F=async(e,s)=>{try{let{error:t}=await I.from("carousel_slides").update({is_active:!s,updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t;C.ZP.success(`Carousel slide ${s?"deactivated":"activated"} successfully!`)}catch(e){console.error("Error toggling carousel slide:",e),C.ZP.error("Error toggling carousel slide")}},J=async(s,t)=>{let r=e.find(e=>e.id===s);if(!r)return;let i=r.display_order,l="up"===t?i-1:i+1,a=e.find(e=>e.display_order===l);if(a)try{await Promise.all([I.from("carousel_slides").update({display_order:l,updated_at:new Date().toISOString()}).eq("id",s),I.from("carousel_slides").update({display_order:i,updated_at:new Date().toISOString()}).eq("id",a.id)]),C.ZP.success("Slide order updated successfully!")}catch(e){console.error("Error reordering slides:",e),C.ZP.error("Error reordering slides")}},V=()=>{E({}),S(!1),z(null)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Carousel Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage homepage carousel slides"})]}),(0,r.jsxs)(y.Vq,{open:t,onOpenChange:l,children:[r.jsx(y.hg,{asChild:!0,children:(0,r.jsxs)(p.z,{className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",onClick:V,children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Add Slide"]})}),(0,r.jsxs)(y.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(y.fK,{children:[r.jsx(y.$N,{children:N?"Edit Carousel Slide":"Add New Carousel Slide"}),r.jsx(y.Be,{children:N?"Update carousel slide information":"Create a new carousel slide for the homepage"})]}),(0,r.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"title",children:"Title *"}),r.jsx(j.I,{id:"title",value:P.title||"",onChange:e=>E(s=>({...s,title:e.target.value})),placeholder:"Enter slide title",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"subtitle",children:"Subtitle"}),r.jsx(j.I,{id:"subtitle",value:P.subtitle||"",onChange:e=>E(s=>({...s,subtitle:e.target.value})),placeholder:"Enter slide subtitle"})]}),(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"image_upload",children:"Image *"}),r.jsx("input",{id:"image_upload",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&(z(e.target.files[0]),E(e=>({...e,image_url:""})))},required:!N}),(P.image_url||A)&&r.jsx("div",{className:"mt-2",children:r.jsx(a(),{src:A?URL.createObjectURL(A):P.image_url||"/alankarika-logo.png",alt:"Preview",width:400,height:128,className:"w-full h-32 object-cover rounded-lg",style:A?{width:"auto",height:"auto",maxWidth:"100%",maxHeight:"128px"}:{}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"button_text",children:"Button Text"}),r.jsx(j.I,{id:"button_text",value:P.button_text||"",onChange:e=>E(s=>({...s,button_text:e.target.value})),placeholder:"Explore Collection"})]}),(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"button_link",children:"Button Link"}),r.jsx(j.I,{id:"button_link",value:P.button_link||"",onChange:e=>E(s=>({...s,button_link:e.target.value})),placeholder:"/collections"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(v._,{htmlFor:"display_order",children:"Display Order"}),r.jsx(j.I,{id:"display_order",type:"number",value:P.display_order||"",onChange:e=>E(s=>({...s,display_order:parseInt(e.target.value)})),placeholder:"1"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(_.r,{id:"is_active",checked:P.is_active??!0,onCheckedChange:e=>E(s=>({...s,is_active:e}))}),r.jsx(v._,{htmlFor:"is_active",children:"Active"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[r.jsx(p.z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsx(p.z,{type:"submit",disabled:Z,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",children:Z?"Saving...":N?"Update Slide":"Add Slide"})]})]})]})]})]}),(0,r.jsxs)(g.Zb,{children:[(0,r.jsxs)(g.Ol,{children:[(0,r.jsxs)(g.ll,{className:"flex items-center gap-2",children:[r.jsx(o.Z,{className:"h-5 w-5"}),"Carousel Slides (",e.length,")"]}),r.jsx(g.SZ,{children:"Manage the carousel slides that appear on the homepage"})]}),(0,r.jsxs)(g.aY,{children:[(0,r.jsxs)(b.iA,{children:[r.jsx(b.xD,{children:(0,r.jsxs)(b.SC,{children:[r.jsx(b.ss,{children:"Preview"}),r.jsx(b.ss,{children:"Content"}),r.jsx(b.ss,{children:"Order"}),r.jsx(b.ss,{children:"Status"}),r.jsx(b.ss,{children:"Actions"})]})}),r.jsx(b.RM,{children:e.map(s=>(0,r.jsxs)(b.SC,{children:[r.jsx(b.pj,{children:r.jsx("div",{className:"w-20 h-12 rounded-lg overflow-hidden bg-gray-100",children:r.jsx(a(),{src:s.image_url,alt:s.title,width:80,height:48,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/placeholder-image.jpg"}})})}),r.jsx(b.pj,{children:(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:s.title}),s.subtitle&&r.jsx("div",{className:"text-sm text-gray-500",children:s.subtitle}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Button: ",s.button_text," → ",s.button_link]})]})}),r.jsx(b.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono text-sm",children:s.display_order}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx(p.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>J(s.id,"up"),disabled:1===s.display_order,children:r.jsx(d.Z,{className:"h-3 w-3"})}),r.jsx(p.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>J(s.id,"down"),disabled:s.display_order===e.length,children:r.jsx(c.Z,{className:"h-3 w-3"})})]})]})}),r.jsx(b.pj,{children:r.jsx(f.C,{className:s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.is_active?"Active":"Inactive"})}),r.jsx(b.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>F(s.id,s.is_active),children:s.is_active?r.jsx(u.Z,{className:"h-4 w-4 text-green-600"}):r.jsx(x.Z,{className:"h-4 w-4 text-gray-400"})}),r.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>U(s),children:r.jsx(h.Z,{className:"h-4 w-4"})}),r.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>T(s.id),className:"text-red-600 hover:text-red-700",children:r.jsx(m.Z,{className:"h-4 w-4"})})]})})]},s.id))})]}),0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(o.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No carousel slides"}),r.jsx("p",{className:"text-gray-500",children:"Add your first carousel slide to get started"})]})]})]})]})}},9904:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>l,default:()=>o});var r=t(17536);let i=(0,r.createProxy)(String.raw`C:\Users\ANIKET\Documents\jewllery-main\jewllery-main\app\admin\carousel\page.tsx`),{__esModule:l,$$typeof:a}=i,n=i.default,o=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3447,1971,2451,6206,5138,4745,2730,7589,7888,8203,2903,558,3195,8957,6261,8384,4796,7052,2065,1839,9378,2970,6777,5072,4747,6698],()=>t(7922));module.exports=r})();