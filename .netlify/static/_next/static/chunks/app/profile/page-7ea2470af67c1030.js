(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{65883:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},11961:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n.Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},67972:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},48246:function(e,t,a){Promise.resolve().then(a.bind(a,99121))},99121:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(57437),r=a(70763),s=a(93023),i=a(37077),o=a(2265),l=a(85563),d=a(16691),c=a.n(d),u=a(79303),m=a(29155),f=a(67972),g=a(65883),p=a(93505),x=a(11961),h=a(61396),y=a.n(h);function b(){var e,t;let{user:a,logout:d,loading:h}=(0,r.useUser)(),[b,N]=(0,o.useState)(!1);(0,o.useEffect)(()=>{a||h?N(!1):N(!0)},[a,h]);let v=(0,i.c)(async()=>{let e=await fetch("/api/user/orders"),t=await e.json();return t.success?t.orders:[]},"orders",[a]),[j,w]=(0,o.useState)([]);return((0,o.useEffect)(()=>{if(!v||0===v.length){w([]);return}let e=!0,t=async()=>{let t=v.map(e=>e.id);if(0===t.length)return w([]);let a=await fetch("/api/user/shipping",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderIds:t})}),n=await a.json();e&&w(n.success?n.shipping:[])};return t(),()=>{e=!1}},[v]),h)?(0,n.jsx)("div",{className:"p-8 text-center",children:"Loading..."}):(0,n.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-100 to-yellow-50 relative overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute top-6 left-6 z-20",children:(0,n.jsx)(y(),{href:"/",children:(0,n.jsxs)(s.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,n.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Go Back Home"]})})}),(0,n.jsx)(u.E.div,{className:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-amber-300 to-orange-400 rounded-full blur-2xl opacity-30 animate-fade-in",initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:1.2}}),(0,n.jsx)(u.E.div,{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tr from-yellow-200 to-orange-300 rounded-full blur-2xl opacity-20 animate-fade-in",initial:{opacity:0,scale:.8},animate:{opacity:.2,scale:1},transition:{duration:1.5,delay:.5}}),!a&&b&&(0,n.jsx)(l.Z,{open:b,onClose:()=>N(!1),onSuccess:()=>N(!1)}),a&&(0,n.jsxs)(u.E.div,{className:"w-full max-w-2xl z-10",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},children:[(0,n.jsxs)("div",{className:"bg-white/95 rounded-2xl shadow-2xl px-8 py-10 flex flex-col items-center relative border border-orange-100 animate-fade-in mb-8",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(c(),{src:"/alankarika-logo.png",alt:"Alankarika Logo",width:64,height:64,className:"rounded-full drop-shadow-lg border-2 border-amber-200 bg-white",priority:!0})}),(0,n.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent mb-2 font-playfair animate-fade-in",children:"My Profile"}),(0,n.jsxs)("div",{className:"mb-6 w-full max-w-sm bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg shadow p-4 flex flex-col items-center animate-fade-in",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-amber-500 to-orange-600 flex items-center justify-center text-white font-bold text-2xl uppercase mb-2",children:(null===(e=a.full_name)||void 0===e?void 0:e.charAt(0))||(null===(t=a.email)||void 0===t?void 0:t.charAt(0))||(0,n.jsx)(f.Z,{className:"w-8 h-8"})}),(0,n.jsx)("div",{className:"mb-1 text-lg font-semibold text-amber-700",children:a.full_name}),(0,n.jsx)("div",{className:"mb-1 text-gray-700",children:a.email}),(0,n.jsx)("div",{className:"mb-1 text-gray-700",children:a.mobile}),(0,n.jsx)(m.C,{className:"bg-green-100 text-green-800 mt-2",children:"Customer"}),(0,n.jsxs)(s.z,{onClick:d,className:"mt-4 w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 shadow rounded-lg flex items-center gap-2",children:[(0,n.jsx)(g.Z,{className:"w-4 h-4"})," Logout"]})]}),(0,n.jsxs)("div",{className:"mt-4 text-center animate-fade-in",children:[(0,n.jsx)("span",{className:"inline-block bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 px-4 py-2 rounded-full shadow-sm font-medium",children:"Where Tradition Meets Elegance"}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Thank you for being a part of our jewelry family!"})]})]}),(0,n.jsxs)(u.E.div,{className:"w-full bg-white/95 rounded-2xl shadow-xl px-8 py-8 border border-orange-100 animate-fade-in",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:[(0,n.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2 text-amber-700",children:[(0,n.jsx)(p.Z,{className:"w-6 h-6 text-orange-500"})," Order History"]}),v&&0===v.length?(0,n.jsx)("div",{className:"text-gray-500",children:"No orders found."}):(0,n.jsx)("div",{className:"space-y-4",children:v&&v.map((e,t)=>{var a,r,s,i,o,l;return(0,n.jsxs)(u.E.div,{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg shadow p-4 animate-fade-in",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.08*t},children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Order ID:"})," ",(0,n.jsx)("span",{className:"font-mono text-xs text-gray-700",children:e.id}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Order Number:"})," ",(0,n.jsx)("span",{className:"text-xs text-gray-700",children:e.order_number})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Customer Name:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.customer_name}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Email:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.customer_email}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Phone:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.customer_phone})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Status:"})," ",(0,n.jsx)(m.C,{className:"bg-green-100 text-green-800",children:e.status}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Payment Status:"})," ",(0,n.jsx)(m.C,{className:"bg-blue-100 text-blue-800",children:e.payment_status}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Payment Method:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.payment_method}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Payment ID:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.payment_id||"N/A"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Tracking Number:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.tracking_number||"N/A"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Subtotal:"})," ",(0,n.jsxs)("span",{className:"text-gray-700",children:["₹",null===(a=e.subtotal)||void 0===a?void 0:a.toLocaleString()]}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Discount:"})," ",(0,n.jsxs)("span",{className:"text-gray-700",children:["₹",null===(r=e.discount_amount)||void 0===r?void 0:r.toLocaleString()]}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Shipping:"})," ",(0,n.jsxs)("span",{className:"text-gray-700",children:["₹",null===(s=e.shipping_cost)||void 0===s?void 0:s.toLocaleString()]}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Tax:"})," ",(0,n.jsxs)("span",{className:"text-gray-700",children:["₹",null===(i=e.tax_amount)||void 0===i?void 0:i.toLocaleString()]}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Total:"})," ",(0,n.jsxs)("span",{className:"text-orange-700 font-bold",children:["₹",null===(o=e.total_amount)||void 0===o?void 0:o.toLocaleString()]})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Created At:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.created_at?new Date(e.created_at).toLocaleString():""}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Updated At:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.updated_at?new Date(e.updated_at).toLocaleString():""})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Shipping Address:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.shipping_address?"string"==typeof e.shipping_address?e.shipping_address:JSON.stringify(e.shipping_address):"N/A"}),(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Billing Address:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.billing_address?"string"==typeof e.billing_address?e.billing_address:JSON.stringify(e.billing_address):"N/A"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Notes:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.notes||"N/A"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Items:"}),(0,n.jsx)("ul",{className:"list-disc ml-6 text-gray-700",children:null===(l=e.items)||void 0===l?void 0:l.map((e,t)=>(0,n.jsxs)("li",{children:[e.name," x ",e.quantity]},t))})]})]},e.id)})})]}),(0,n.jsxs)(u.E.div,{className:"w-full bg-white/95 rounded-2xl shadow-xl px-8 py-8 border border-orange-100 animate-fade-in mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},children:[(0,n.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2 text-amber-700",children:[(0,n.jsx)(x.Z,{className:"w-6 h-6 text-orange-500"})," Shipping Tracking"]}),j&&0!==j.length?(0,n.jsx)("div",{className:"space-y-4",children:j.map((e,t)=>(0,n.jsxs)(u.E.div,{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg shadow p-4 animate-fade-in",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.08*t},children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Order ID:"})," ",(0,n.jsx)("span",{className:"font-mono text-xs text-gray-700",children:e.order_id})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Tracking Number:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.tracking_number||"Not assigned"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Provider:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.shipping_provider||"Not assigned"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Status:"})," ",(0,n.jsx)("span",{className:"text-orange-700 font-bold",children:e.status})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Estimated Delivery:"})," ",(0,n.jsx)("span",{className:"text-gray-700",children:e.estimated_delivery?new Date(e.estimated_delivery).toLocaleDateString():"Not set"})]})]},e.id))}):(0,n.jsx)("div",{className:"text-gray-500",children:"No shipping records found."})]})]})]})}},85563:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=a(57437),r=a(2265),s=a(12609),i=a(93023),o=a(51908),l=a(70763),d=a(62621);function c(e){let{open:t,onClose:a,onSuccess:c}=e,{login:u,register:m,loading:f}=(0,l.useUser)(),[g,p]=(0,r.useState)("login"),[x,h]=(0,r.useState)({name:"",email:"",mobile:""}),[y,b]=(0,r.useState)(""),N=e=>{h({...x,[e.target.name]:e.target.value})},v=async e=>{e.preventDefault(),b("");let t=await u(x.mobile);t.success?((0,d.Am)({title:"Login successful!"}),c(),a()):(b(t.error||"Login failed"),(0,d.Am)({title:"Login failed",description:t.error||"Login failed",variant:"destructive"}))},j=async e=>{e.preventDefault(),b("");let t=await m(x.name,x.email,x.mobile);t.success?((0,d.Am)({title:"Registration successful!"}),c(),a()):(b(t.error||"Registration failed"),(0,d.Am)({title:"Registration failed",description:t.error||"Registration failed",variant:"destructive"}))};return(0,n.jsx)(s.Vq,{open:t,onOpenChange:e=>!e&&a(),children:(0,n.jsxs)(s.cZ,{children:[(0,n.jsxs)(s.fK,{children:[(0,n.jsxs)(s.$N,{children:["login"===g?"Login":"Register"," to Continue"]}),(0,n.jsx)(s.Be,{children:"login"===g?"Login with your mobile number to access your account.":"Register a new account with your name, email, and mobile number."})]}),(0,n.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,n.jsx)(i.z,{variant:"login"===g?"default":"outline",onClick:()=>p("login"),className:"flex-1",children:"Login"}),(0,n.jsx)(i.z,{variant:"register"===g?"default":"outline",onClick:()=>p("register"),className:"flex-1",children:"Register"})]}),"login"===g?(0,n.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,n.jsx)(o.I,{name:"mobile",placeholder:"Mobile Number",value:x.mobile,onChange:N,required:!0,disabled:f}),y&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:y}),(0,n.jsx)(i.z,{type:"submit",className:"w-full",disabled:f,children:f?"Logging in...":"Login"})]}):(0,n.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,n.jsx)(o.I,{name:"name",placeholder:"Full Name",value:x.name,onChange:N,required:!0,disabled:f}),(0,n.jsx)(o.I,{name:"email",type:"email",placeholder:"Email",value:x.email,onChange:N,required:!0,disabled:f}),(0,n.jsx)(o.I,{name:"mobile",placeholder:"Mobile Number",value:x.mobile,onChange:N,required:!0,disabled:f}),y&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:y}),(0,n.jsx)(i.z,{type:"submit",className:"w-full",disabled:f,children:f?"Registering...":"Register"})]})]})})}},29155:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var n=a(57437);a(2265);var r=a(96061),s=a(39311);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...r}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:a}),t),...r})}},93023:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var n=a(57437),r=a(2265),s=a(67256),i=a(96061),o=a(39311);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},12609:function(e,t,a){"use strict";a.d(t,{$N:function(){return g},Be:function(){return p},Vq:function(){return l},cZ:function(){return m},fK:function(){return f},hg:function(){return d}});var n=a(57437),r=a(2265),s=a(28712),i=a(82549),o=a(39311);let l=s.fC,d=s.xz,c=s.h_;s.x8;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=s.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,n.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=s.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});g.displayName=s.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=s.dk.displayName},51908:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var n=a(57437),r=a(2265),s=a(39311);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,n.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},62621:function(e,t,a){"use strict";a.d(t,{Am:function(){return c}}),a(2265);let n=0,r=new Map,s=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function d(e){l=i(l,e),o.forEach(e=>{e(l)})}function c(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}},37077:function(e,t,a){"use strict";a.d(t,{c:function(){return s}});var n=a(2265),r=a(6763);function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[s,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let a=!0;if(e().then(e=>{a&&i(e)}),!t)return()=>{a=!1};let n=r.O.channel("realtime:"+t).on("postgres_changes",{event:"*",schema:"public",table:t},()=>{e().then(e=>{a&&i(e)})}).subscribe();return()=>{a=!1,r.O.removeChannel(n)}},a),s}},70763:function(e,t,a){"use strict";a.r(t),a.d(t,{UserProvider:function(){return o},useUser:function(){return l}});var n=a(57437),r=a(2265),s=a(24033);let i=(0,r.createContext)(null);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),c=(0,s.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("user_data");e&&o(JSON.parse(e)),d(!1)},[]);let u=async e=>{d(!0);try{let t=await fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:e})}),a=await t.json();if(a.success)return o(a.user),localStorage.setItem("user_data",JSON.stringify(a.user)),d(!1),{success:!0};return d(!1),{success:!1,error:a.error}}catch(e){return d(!1),{success:!1,error:e.message}}},m=async(e,t,a)=>{d(!0);try{let n=await fetch("/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,mobile:a})}),r=await n.json();if(r.success)return o(r.user),localStorage.setItem("user_data",JSON.stringify(r.user)),d(!1),{success:!0};return d(!1),{success:!1,error:r.error}}catch(e){return d(!1),{success:!1,error:e.message}}},f=async()=>{d(!0),await fetch("/api/user/logout",{method:"POST"}),o(null),localStorage.removeItem("user_data"),d(!1)};return(0,n.jsx)(i.Provider,{value:{user:a,loading:l,login:u,register:m,logout:f,requireAuthForCart:()=>!!a||(c.push("/register"),!1)},children:t})}function l(){let e=(0,r.useContext)(i);if(!e)throw Error("useUser must be used within a UserProvider");return e}},6763:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var n=a(1492);let r=(0,n.eI)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM",{realtime:{params:{eventsPerSecond:10}}})},39311:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var n=a(57042),r=a(74769);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}},28712:function(e,t,a){"use strict";a.d(t,{Dx:function(){return en},VY:function(){return ea},aV:function(){return et},dk:function(){return er},fC:function(){return K},h_:function(){return ee},x8:function(){return es},xz:function(){return Q}});var n=a(2265),r=a(85744),s=a(42210),i=a(56989),o=a(20966),l=a(73763),d=a(79249),c=a(52759),u=a(52730),m=a(85606),f=a(9381),g=a(31244),p=a(73386),x=a(85859),h=a(67256),y=a(57437),b="Dialog",[N,v]=(0,i.b)(b),[j,w]=N(b),_=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:s,onOpenChange:i,modal:d=!0}=e,c=n.useRef(null),u=n.useRef(null),[m,f]=(0,l.T)({prop:r,defaultProp:s??!1,onChange:i,caller:b});return(0,y.jsx)(j,{scope:t,triggerRef:c,contentRef:u,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:d,children:a})};_.displayName=b;var O="DialogTrigger",S=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,i=w(O,a),o=(0,s.e)(t,i.triggerRef);return(0,y.jsx)(f.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":B(i.open),...n,ref:o,onClick:(0,r.M)(e.onClick,i.onOpenToggle)})});S.displayName=O;var I="DialogPortal",[D,k]=N(I,{forceMount:void 0}),T=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:s}=e,i=w(I,t);return(0,y.jsx)(D,{scope:t,forceMount:a,children:n.Children.map(r,e=>(0,y.jsx)(m.z,{present:a||i.open,children:(0,y.jsx)(u.h,{asChild:!0,container:s,children:e})}))})};T.displayName=I;var C="DialogOverlay",E=n.forwardRef((e,t)=>{let a=k(C,e.__scopeDialog),{forceMount:n=a.forceMount,...r}=e,s=w(C,e.__scopeDialog);return s.modal?(0,y.jsx)(m.z,{present:n||s.open,children:(0,y.jsx)(R,{...r,ref:t})}):null});E.displayName=C;var A=(0,h.Z8)("DialogOverlay.RemoveScroll"),R=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=w(C,a);return(0,y.jsx)(p.Z,{as:A,allowPinchZoom:!0,shards:[r.contentRef],children:(0,y.jsx)(f.WV.div,{"data-state":B(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),M="DialogContent",P=n.forwardRef((e,t)=>{let a=k(M,e.__scopeDialog),{forceMount:n=a.forceMount,...r}=e,s=w(M,e.__scopeDialog);return(0,y.jsx)(m.z,{present:n||s.open,children:s.modal?(0,y.jsx)(L,{...r,ref:t}):(0,y.jsx)(V,{...r,ref:t})})});P.displayName=M;var L=n.forwardRef((e,t)=>{let a=w(M,e.__scopeDialog),i=n.useRef(null),o=(0,s.e)(t,a.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,x.Ry)(e)},[]),(0,y.jsx)(z,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,n=2===t.button||a;n&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),V=n.forwardRef((e,t)=>{let a=w(M,e.__scopeDialog),r=n.useRef(!1),s=n.useRef(!1);return(0,y.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let n=t.target,i=a.triggerRef.current?.contains(n);i&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),z=n.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=w(M,a),m=n.useRef(null),f=(0,s.e)(t,m);return(0,g.EW)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,y.jsx)(d.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":B(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{titleId:u.titleId}),(0,y.jsx)(G,{contentRef:m,descriptionId:u.descriptionId})]})]})}),U="DialogTitle",Z=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=w(U,a);return(0,y.jsx)(f.WV.h2,{id:r.titleId,...n,ref:t})});Z.displayName=U;var F="DialogDescription",W=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=w(F,a);return(0,y.jsx)(f.WV.p,{id:r.descriptionId,...n,ref:t})});W.displayName=F;var J="DialogClose",q=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,s=w(J,a);return(0,y.jsx)(f.WV.button,{type:"button",...n,ref:t,onClick:(0,r.M)(e.onClick,()=>s.onOpenChange(!1))})});function B(e){return e?"open":"closed"}q.displayName=J;var H="DialogTitleWarning",[$,Y]=(0,i.k)(H,{contentName:M,titleName:U,docsSlug:"dialog"}),X=({titleId:e})=>{let t=Y(H),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{if(e){let t=document.getElementById(e);t||console.error(a)}},[a,e]),null},G=({contentRef:e,descriptionId:t})=>{let a=Y("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return n.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");if(t&&a){let e=document.getElementById(t);e||console.warn(r)}},[r,e,t]),null},K=_,Q=S,ee=T,et=E,ea=P,en=Z,er=W,es=q},85606:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var n=a(2265),r=a(42210),s=a(51030),i=e=>{let t,a;let{present:i,children:l}=e,d=function(e){var t;let[a,r]=n.useState(),i=n.useRef(null),l=n.useRef(e),d=n.useRef("none"),c=e?"mounted":"unmounted",[u,m]=(t={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,a)=>{let n=t[e][a];return n??e},c));return n.useEffect(()=>{let e=o(i.current);d.current="mounted"===u?e:"none"},[u]),(0,s.b)(()=>{let t=i.current,a=l.current,n=a!==e;if(n){let n=d.current,r=o(t);e?m("MOUNT"):"none"===r||t?.display==="none"?m("UNMOUNT"):a&&n!==r?m("ANIMATION_OUT"):m("UNMOUNT"),l.current=e}},[e,m]),(0,s.b)(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,n=n=>{let r=o(i.current),s=r.includes(n.animationName);if(n.target===a&&s&&(m("ANIMATION_END"),!l.current)){let n=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=n)})}},r=e=>{e.target===a&&(d.current=o(i.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",n),a.addEventListener("animationend",n),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",n),a.removeEventListener("animationend",n)}}m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{i.current=e?getComputedStyle(e):null,r(e)},[])}}(i),c="function"==typeof l?l({present:d.isPresent}):n.Children.only(l),u=(0,r.e)(d.ref,(t=Object.getOwnPropertyDescriptor(c.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.ref:(t=Object.getOwnPropertyDescriptor(c,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.props.ref:c.props.ref||c.ref),m="function"==typeof l;return m||d.isPresent?n.cloneElement(c,{ref:u}):null};function o(e){return e?.animationName||"none"}i.displayName="Presence"}},function(e){e.O(0,[7533,7245,6691,4962,1080,1653,7856,2971,7864,1744],function(){return e(e.s=48246)}),_N_E=e.O()}]);