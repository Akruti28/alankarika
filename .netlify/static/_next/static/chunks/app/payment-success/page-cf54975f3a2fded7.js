(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6685],{92392:function(e,s,t){Promise.resolve().then(t.bind(t,1904))},1904:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return D}});var i=t(57437),r=t(2265),a=t(24033),n=t(79303),l=t(74530),d=t(4322),o=t(11961),c=t(35817),x=t(32176),m=t(68291),h=t(93023),p=t(86110),g=t(29155),j=t(61396),u=t.n(j),y=t(16691),f=t.n(y),b=t(1492),N=t(60930),v=t(42692),w=t.n(v),E=t(24272),k=t(54363);let _=(0,b.eI)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM");function D(){let e=(0,a.useSearchParams)(),s=e.get("orderId"),[t,j]=(0,r.useState)(null),[y,b]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s?v():b(!1)},[s]);let v=async()=>{try{let e=sessionStorage.getItem("paymentSuccessOrderData");if(e){let s=JSON.parse(e);j(s),sessionStorage.removeItem("paymentSuccessOrderData")}else{let e=localStorage.getItem("lastOrderData");if(e){let t=JSON.parse(e);s&&(t.id=s),j(t)}else if(s&&!s.startsWith("temp_")){let{data:e,error:t}=await _.from("orders").select("*").eq("id",s).single();t?D():j(e)}else D()}}catch(e){D()}finally{b(!1)}},D=()=>{let e={id:s||"temp_"+Date.now(),customer_name:"Test Customer",customer_email:"customer@example.com",customer_phone:"+91 9876543210",customer_address:"Test Address, Test City, Test State - 123456",items:[{id:1,name:"Rajwada Kundan Necklace",price:45e3,quantity:1,image:"https://images.pexels.com/photos/1190298/pexels-photo-1190298.jpeg?auto=compress&cs=tinysrgb&w=400"}],total_amount:45e3,payment_status:"paid",payment_method:"online",razorpay_payment_id:"pay_test_"+Date.now(),created_at:new Date().toISOString(),status:"confirmed"};j(e)},I=async()=>{let e=document.getElementById("receipt-content");if(e&&t)try{let s=await w()(e,{scale:2,useCORS:!0,allowTaint:!0}),i=s.toDataURL("image/png"),r=new N.ZP("p","mm","a4"),a=190*s.height/s.width,n=a,l=10;for(r.addImage(i,"PNG",10,l,190,a),n-=297;n>=0;)l=n-a+10,r.addPage(),r.addImage(i,"PNG",10,l,190,a),n-=297;r.save("Alankaarika-Receipt-".concat(t.id,".pdf"))}catch(e){alert("Error generating PDF. Please try again.")}};return y?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 py-8 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})}):t?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 py-8",children:[(0,i.jsx)(k.Z,{}),(0,i.jsx)("div",{className:"container mx-auto px-2 sm:px-4",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[(0,i.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,i.jsx)(l.Z,{className:"w-12 h-12 text-green-600"})}),(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),(0,i.jsx)("p",{className:"text-xl text-gray-600",children:"Thank you for your purchase from अलंकारिका"})]}),(0,i.jsx)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:(0,i.jsxs)(p.Zb,{className:"mb-8",children:[(0,i.jsx)(p.Ol,{children:(0,i.jsxs)(p.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-5 h-5"}),"Order Details"]})}),(0,i.jsxs)(p.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Order ID"}),(0,i.jsx)("p",{className:"font-semibold",children:t.id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Method"}),(0,i.jsx)("p",{className:"font-semibold",children:"cod"===t.payment_method?"Cash on Delivery":"Online Payment"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Amount Paid"}),(0,i.jsx)("p",{className:"font-semibold text-green-600",children:(0,E.x)(t.total_amount)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Status"}),(0,i.jsx)(g.C,{className:"bg-green-100 text-green-800",children:"Confirmed"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Payment ID"}),(0,i.jsx)("p",{className:"font-semibold text-xs",children:t.razorpay_payment_id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Order Date"}),(0,i.jsx)("p",{className:"font-semibold",children:new Date(t.created_at).toLocaleDateString()})]})]}),(0,i.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,i.jsx)("h3",{className:"font-semibold mb-4",children:"Customer Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Name:"}),(0,i.jsx)("p",{className:"font-semibold",children:t.customer_name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Email:"}),(0,i.jsx)("p",{className:"font-semibold",children:t.customer_email})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Phone:"}),(0,i.jsx)("p",{className:"font-semibold",children:t.customer_phone})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Address:"}),(0,i.jsx)("p",{className:"font-semibold",children:t.customer_address})]})]})]}),(0,i.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,i.jsx)("h3",{className:"font-semibold mb-4",children:"Order Items"}),(0,i.jsx)("div",{className:"space-y-4",children:t.items.map((e,s)=>{let t=e.image&&""!==e.image.trim()?e.image:"/alankarika-logo.png";return(0,i.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[(0,i.jsx)(f(),{src:t,alt:e.name,width:64,height:64,className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.target.src="/alankarika-logo.png"}}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-semibold",children:e.name}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("p",{className:"font-semibold",children:(0,E.x)(e.price*e.quantity)})})]},s)})})]})]})]})}),(0,i.jsx)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,i.jsxs)(p.Zb,{className:"mb-8",children:[(0,i.jsx)(p.Ol,{children:(0,i.jsxs)(p.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(o.Z,{className:"w-5 h-5"}),"What's Next?"]})}),(0,i.jsx)(p.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Order Confirmation"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"You'll receive an email confirmation shortly with your order details."})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Processing & Crafting"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Our artisans will carefully prepare your jewelry. This may take 2-3 business days."})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Shipping & Delivery"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Your order will be shipped with tracking information. Delivery within 5-7 business days."})]})]})]})})]})}),(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,i.jsxs)(h.z,{onClick:I,className:"w-full sm:w-auto bg-amber-600 hover:bg-amber-700 text-white",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Download Receipt"]}),(0,i.jsxs)(h.z,{onClick:()=>{let e=encodeURIComponent("Hi! I just completed my payment for Order ID: ".concat(null==t?void 0:t.id,". Can you provide me with the order tracking details?"));window.open("https://wa.me/".concat("9769432565","?text=").concat(e),"_blank")},className:"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Track via WhatsApp"]}),(0,i.jsx)(h.z,{asChild:!0,variant:"outline",className:"w-full sm:w-auto",children:(0,i.jsxs)(u(),{href:"/",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Continue Shopping"]})})]}),(0,i.jsx)("div",{id:"receipt-content",style:{position:"absolute",left:"-9999px",top:"-9999px"},children:(0,i.jsxs)("div",{className:"receipt-container",style:{width:"800px",padding:"40px",backgroundColor:"white",fontFamily:"Arial, sans-serif"},children:[(0,i.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,i.jsx)("img",{src:window.location.origin+"/alankarika-logo.png",alt:"Alankarika Logo",style:{width:"80px",height:"80px",margin:"0 auto 10px",display:"block"}})}),(0,i.jsxs)("div",{style:{textAlign:"center",borderBottom:"3px solid #D97706",paddingBottom:"30px",marginBottom:"30px"},children:[(0,i.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#D97706",marginBottom:"10px"},children:"अलंकारिका"}),(0,i.jsx)("div",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"10px"},children:"Traditional Jewelry Collection"}),(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#059669",backgroundColor:"#D1FAE5",padding:"10px 20px",borderRadius:"8px",display:"inline-block"},children:"PAYMENT RECEIPT"})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"30px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Order Details"}),(0,i.jsxs)("div",{style:{lineHeight:"1.8"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Order ID:"})," ",t.id]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Payment ID:"})," ",t.razorpay_payment_id]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Order Date:"})," ",new Date(t.created_at).toLocaleDateString()]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Payment Method:"})," ","cod"===t.payment_method?"Cash on Delivery":"Online Payment"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Status:"})," ",(0,i.jsx)("span",{style:{color:"#059669",fontWeight:"bold"},children:"Confirmed"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Customer Details"}),(0,i.jsxs)("div",{style:{lineHeight:"1.8"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",t.customer_name]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Email:"})," ",t.customer_email]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Phone:"})," ",t.customer_phone]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Address:"})," ",t.customer_address]})]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,i.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#1F2937",marginBottom:"15px",borderBottom:"2px solid #F3F4F6",paddingBottom:"5px"},children:"Order Items"}),(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #E5E7EB"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#F9FAFB"},children:[(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"left",fontWeight:"bold"},children:"Product Name"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"center",fontWeight:"bold"},children:"Quantity"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:"Price"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:"Total"})]})}),(0,i.jsx)("tbody",{children:t.items.map((e,s)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #E5E7EB"},children:e.name}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"center"},children:e.quantity}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right"},children:(0,E.x)(e.price)}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #E5E7EB",textAlign:"right",fontWeight:"bold"},children:(0,E.x)(e.price*e.quantity)})]},s))})]})]}),(0,i.jsx)("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"8px",border:"2px solid #D97706",marginBottom:"30px"},children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)("span",{style:{fontSize:"20px",fontWeight:"bold",color:"#1F2937"},children:"Total Amount Paid:"}),(0,i.jsx)("span",{style:{fontSize:"24px",fontWeight:"bold",color:"#059669"},children:(0,E.x)(t.total_amount)})]})}),(0,i.jsxs)("div",{style:{textAlign:"center",paddingTop:"20px",borderTop:"2px solid #F3F4F6",color:"#6B7280"},children:[(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsx)("strong",{children:"Thank you for your purchase from अलंकारिका!"})}),(0,i.jsx)("div",{style:{fontSize:"14px"},children:"For any queries, contact us at support@alankaarika.com | +91 9876543210"}),(0,i.jsx)("div",{style:{fontSize:"12px",marginTop:"10px"},children:"This is a computer-generated receipt and does not require a signature."})]})]})}),(0,i.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center mt-8 p-6 bg-amber-50 rounded-lg",children:[(0,i.jsx)("h3",{className:"font-semibold text-amber-800 mb-2",children:"Share Your Experience!"}),(0,i.jsx)("p",{className:"text-sm text-amber-700 mb-4",children:"We'd love to see how our jewelry looks on you. Share your photos with us on social media and get featured on our website!"}),(0,i.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:(0,i.jsx)("span",{className:"text-white text-sm",children:"f"})}),(0,i.jsx)("div",{className:"w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-pink-700 transition-colors",children:(0,i.jsx)("span",{className:"text-white text-sm",children:"i"})}),(0,i.jsx)("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-700 transition-colors",children:(0,i.jsx)("span",{className:"text-white text-sm",children:"p"})})]})]})]})})]}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 py-8 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),(0,i.jsx)("p",{className:"text-gray-600 mb-8",children:"We couldn't find your order details."}),(0,i.jsx)(h.z,{asChild:!0,children:(0,i.jsx)(u(),{href:"/",children:"Return to Home"})})]})})}},24272:function(e,s,t){"use strict";function i(e){return"₹".concat(new Intl.NumberFormat("en-US").format(e))}t.d(s,{x:function(){return i}})}},function(e){e.O(0,[2505,7337,7533,7245,6691,1653,7856,6677,3230,2971,7864,1744],function(){return e(e.s=92392)}),_N_E=e.O()}]);