(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1569],{39012:function(e,t,n){Promise.resolve().then(n.bind(n,14304))},14304:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(57437),s=n(70763),a=n(37077),o=n(2265),i=n(85563);function l(){let{user:e,loading:t}=(0,s.useUser)(),[n,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{e||t?l(!1):l(!0)},[e,t]);let u=(0,a.c)(async()=>{let e=await fetch("/api/user/orders"),t=await e.json();return t.success?t.orders:[]},"orders",[e]);return t?(0,r.jsx)("div",{className:"p-8 text-center",children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[!e&&n&&(0,r.jsx)(i.Z,{open:n,onClose:()=>l(!1),onSuccess:()=>l(!1)}),e&&(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Order Tracking"}),u&&0===u.length?(0,r.jsx)("div",{children:"No orders found."}):(0,r.jsx)("div",{className:"space-y-4",children:u&&u.map(e=>{var t,n;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Order ID:"})," ",e.id]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Status:"})," ",e.status]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Total:"})," â‚¹",null===(t=e.total_amount)||void 0===t?void 0:t.toLocaleString()]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",e.created_at?new Date(e.created_at).toLocaleDateString():""]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Items:"}),(0,r.jsx)("ul",{className:"list-disc ml-6",children:null===(n=e.items)||void 0===n?void 0:n.map((e,t)=>(0,r.jsxs)("li",{children:[e.name," x ",e.quantity]},t))})]})]},e.id)})})]})]})}},85563:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(57437),s=n(2265),a=n(12609),o=n(93023),i=n(51908),l=n(70763),u=n(62621);function c(e){let{open:t,onClose:n,onSuccess:c}=e,{login:d,register:f,loading:m}=(0,l.useUser)(),[p,g]=(0,s.useState)("login"),[h,x]=(0,s.useState)({name:"",email:"",mobile:""}),[v,b]=(0,s.useState)(""),y=e=>{x({...h,[e.target.name]:e.target.value})},N=async e=>{e.preventDefault(),b("");let t=await d(h.mobile);t.success?((0,u.Am)({title:"Login successful!"}),c(),n()):(b(t.error||"Login failed"),(0,u.Am)({title:"Login failed",description:t.error||"Login failed",variant:"destructive"}))},j=async e=>{e.preventDefault(),b("");let t=await f(h.name,h.email,h.mobile);t.success?((0,u.Am)({title:"Registration successful!"}),c(),n()):(b(t.error||"Registration failed"),(0,u.Am)({title:"Registration failed",description:t.error||"Registration failed",variant:"destructive"}))};return(0,r.jsx)(a.Vq,{open:t,onOpenChange:e=>!e&&n(),children:(0,r.jsxs)(a.cZ,{children:[(0,r.jsxs)(a.fK,{children:[(0,r.jsxs)(a.$N,{children:["login"===p?"Login":"Register"," to Continue"]}),(0,r.jsx)(a.Be,{children:"login"===p?"Login with your mobile number to access your account.":"Register a new account with your name, email, and mobile number."})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsx)(o.z,{variant:"login"===p?"default":"outline",onClick:()=>g("login"),className:"flex-1",children:"Login"}),(0,r.jsx)(o.z,{variant:"register"===p?"default":"outline",onClick:()=>g("register"),className:"flex-1",children:"Register"})]}),"login"===p?(0,r.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,r.jsx)(i.I,{name:"mobile",placeholder:"Mobile Number",value:h.mobile,onChange:y,required:!0,disabled:m}),v&&(0,r.jsx)("div",{className:"text-red-600 text-sm",children:v}),(0,r.jsx)(o.z,{type:"submit",className:"w-full",disabled:m,children:m?"Logging in...":"Login"})]}):(0,r.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,r.jsx)(i.I,{name:"name",placeholder:"Full Name",value:h.name,onChange:y,required:!0,disabled:m}),(0,r.jsx)(i.I,{name:"email",type:"email",placeholder:"Email",value:h.email,onChange:y,required:!0,disabled:m}),(0,r.jsx)(i.I,{name:"mobile",placeholder:"Mobile Number",value:h.mobile,onChange:y,required:!0,disabled:m}),v&&(0,r.jsx)("div",{className:"text-red-600 text-sm",children:v}),(0,r.jsx)(o.z,{type:"submit",className:"w-full",disabled:m,children:m?"Registering...":"Register"})]})]})})}},93023:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(57437),s=n(2265),a=n(67256),o=n(96061),i=n(39311);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:n,variant:s,size:o,asChild:u=!1,...c}=e,d=u?a.g7:"button";return(0,r.jsx)(d,{className:(0,i.cn)(l({variant:s,size:o,className:n})),ref:t,...c})});u.displayName="Button"},12609:function(e,t,n){"use strict";n.d(t,{$N:function(){return p},Be:function(){return g},Vq:function(){return l},cZ:function(){return f},fK:function(){return m},hg:function(){return u}});var r=n(57437),s=n(2265),a=n(28712),o=n(82549),i=n(39311);let l=a.fC,u=a.xz,c=a.h_;a.x8;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});d.displayName=a.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...l,children:[s,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=a.VY.displayName;let m=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};m.displayName="DialogHeader";let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});p.displayName=a.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});g.displayName=a.dk.displayName},51908:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(57437),s=n(2265),a=n(39311);let o=s.forwardRef((e,t)=>{let{className:n,type:s,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input"},62621:function(e,t,n){"use strict";n.d(t,{Am:function(){return c}}),n(2265);let r=0,s=new Map,a=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?a(n):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],l={toasts:[]};function u(e){l=o(l,e),i.forEach(e=>{e(l)})}function c(e){let{...t}=e,n=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:"DISMISS_TOAST",toastId:n});return u({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:n}})}}},37077:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(2265),s=n(6763);function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[a,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let n=!0;if(e().then(e=>{n&&o(e)}),!t)return()=>{n=!1};let r=s.O.channel("realtime:"+t).on("postgres_changes",{event:"*",schema:"public",table:t},()=>{e().then(e=>{n&&o(e)})}).subscribe();return()=>{n=!1,s.O.removeChannel(r)}},n),a}},70763:function(e,t,n){"use strict";n.r(t),n.d(t,{UserProvider:function(){return i},useUser:function(){return l}});var r=n(57437),s=n(2265),a=n(24033);let o=(0,s.createContext)(null);function i(e){let{children:t}=e,[n,i]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0),c=(0,a.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("user_data");e&&i(JSON.parse(e)),u(!1)},[]);let d=async e=>{u(!0);try{let t=await fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:e})}),n=await t.json();if(n.success)return i(n.user),localStorage.setItem("user_data",JSON.stringify(n.user)),u(!1),{success:!0};return u(!1),{success:!1,error:n.error}}catch(e){return u(!1),{success:!1,error:e.message}}},f=async(e,t,n)=>{u(!0);try{let r=await fetch("/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,mobile:n})}),s=await r.json();if(s.success)return i(s.user),localStorage.setItem("user_data",JSON.stringify(s.user)),u(!1),{success:!0};return u(!1),{success:!1,error:s.error}}catch(e){return u(!1),{success:!1,error:e.message}}},m=async()=>{u(!0),await fetch("/api/user/logout",{method:"POST"}),i(null),localStorage.removeItem("user_data"),u(!1)};return(0,r.jsx)(o.Provider,{value:{user:n,loading:l,login:d,register:f,logout:m,requireAuthForCart:()=>!!n||(c.push("/register"),!1)},children:t})}function l(){let e=(0,s.useContext)(o);if(!e)throw Error("useUser must be used within a UserProvider");return e}},6763:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(1492);let s=(0,r.eI)("https://ljvrtryayjlwtankpfrm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdnJ0cnlheWpsd3RhbmtwZnJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDU4NDgsImV4cCI6MjA2NzQ4MTg0OH0.ZYrAg7gtynVNnwmeDNgmWVVk0Vgb6thkjDgC_a0jWcM",{realtime:{params:{eventsPerSecond:10}}})},39311:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(57042),s=n(74769);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},24033:function(e,t,n){e.exports=n(20290)},28712:function(e,t,n){"use strict";n.d(t,{Dx:function(){return er},VY:function(){return en},aV:function(){return et},dk:function(){return es},fC:function(){return G},h_:function(){return ee},x8:function(){return ea},xz:function(){return Q}});var r=n(2265),s=n(85744),a=n(42210),o=n(56989),i=n(20966),l=n(73763),u=n(79249),c=n(52759),d=n(52730),f=n(85606),m=n(9381),p=n(31244),g=n(73386),h=n(85859),x=n(67256),v=n(57437),b="Dialog",[y,N]=(0,o.b)(b),[j,w]=y(b),I=e=>{let{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:u=!0}=e,c=r.useRef(null),d=r.useRef(null),[f,m]=(0,l.T)({prop:s,defaultProp:a??!1,onChange:o,caller:b});return(0,v.jsx)(j,{scope:t,triggerRef:c,contentRef:d,contentId:(0,i.M)(),titleId:(0,i.M)(),descriptionId:(0,i.M)(),open:f,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),modal:u,children:n})};I.displayName=b;var O="DialogTrigger",D=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=w(O,n),i=(0,a.e)(t,o.triggerRef);return(0,v.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":B(o.open),...r,ref:i,onClick:(0,s.M)(e.onClick,o.onOpenToggle)})});D.displayName=O;var R="DialogPortal",[S,T]=y(R,{forceMount:void 0}),C=e=>{let{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=w(R,t);return(0,v.jsx)(S,{scope:t,forceMount:n,children:r.Children.map(s,e=>(0,v.jsx)(f.z,{present:n||o.open,children:(0,v.jsx)(d.h,{asChild:!0,container:a,children:e})}))})};C.displayName=R;var E="DialogOverlay",_=r.forwardRef((e,t)=>{let n=T(E,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=w(E,e.__scopeDialog);return a.modal?(0,v.jsx)(f.z,{present:r||a.open,children:(0,v.jsx)(A,{...s,ref:t})}):null});_.displayName=E;var M=(0,x.Z8)("DialogOverlay.RemoveScroll"),A=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=w(E,n);return(0,v.jsx)(g.Z,{as:M,allowPinchZoom:!0,shards:[s.contentRef],children:(0,v.jsx)(m.WV.div,{"data-state":B(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),k="DialogContent",P=r.forwardRef((e,t)=>{let n=T(k,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=w(k,e.__scopeDialog);return(0,v.jsx)(f.z,{present:r||a.open,children:a.modal?(0,v.jsx)(V,{...s,ref:t}):(0,v.jsx)(F,{...s,ref:t})})});P.displayName=k;var V=r.forwardRef((e,t)=>{let n=w(k,e.__scopeDialog),o=r.useRef(null),i=(0,a.e)(t,n.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,h.Ry)(e)},[]),(0,v.jsx)(U,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;r&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),F=r.forwardRef((e,t)=>{let n=w(k,e.__scopeDialog),s=r.useRef(!1),a=r.useRef(!1);return(0,v.jsx)(U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||n.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(a.current=!0));let r=t.target,o=n.triggerRef.current?.contains(r);o&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),U=r.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,d=w(k,n),f=r.useRef(null),m=(0,a.e)(t,f);return(0,p.EW)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,v.jsx)(u.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":B(d.open),...l,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(H,{titleId:d.titleId}),(0,v.jsx)(K,{contentRef:f,descriptionId:d.descriptionId})]})]})}),z="DialogTitle",L=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=w(z,n);return(0,v.jsx)(m.WV.h2,{id:s.titleId,...r,ref:t})});L.displayName=z;var W="DialogDescription",J=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=w(W,n);return(0,v.jsx)(m.WV.p,{id:s.descriptionId,...r,ref:t})});J.displayName=W;var Z="DialogClose",q=r.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=w(Z,n);return(0,v.jsx)(m.WV.button,{type:"button",...r,ref:t,onClick:(0,s.M)(e.onClick,()=>a.onOpenChange(!1))})});function B(e){return e?"open":"closed"}q.displayName=Z;var $="DialogTitleWarning",[Y,X]=(0,o.k)($,{contentName:k,titleName:z,docsSlug:"dialog"}),H=({titleId:e})=>{let t=X($),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{if(e){let t=document.getElementById(e);t||console.error(n)}},[n,e]),null},K=({contentRef:e,descriptionId:t})=>{let n=X("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return r.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");if(t&&n){let e=document.getElementById(t);e||console.warn(s)}},[s,e,t]),null},G=I,Q=D,ee=C,et=_,en=P,er=L,es=J,ea=q},85606:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(2265),s=n(42210),a=n(51030),o=e=>{let t,n;let{present:o,children:l}=e,u=function(e){var t;let[n,s]=r.useState(),o=r.useRef(null),l=r.useRef(e),u=r.useRef("none"),c=e?"mounted":"unmounted",[d,f]=(t={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,n)=>{let r=t[e][n];return r??e},c));return r.useEffect(()=>{let e=i(o.current);u.current="mounted"===d?e:"none"},[d]),(0,a.b)(()=>{let t=o.current,n=l.current,r=n!==e;if(r){let r=u.current,s=i(t);e?f("MOUNT"):"none"===s||t?.display==="none"?f("UNMOUNT"):n&&r!==s?f("ANIMATION_OUT"):f("UNMOUNT"),l.current=e}},[e,f]),(0,a.b)(()=>{if(n){let e;let t=n.ownerDocument.defaultView??window,r=r=>{let s=i(o.current),a=s.includes(r.animationName);if(r.target===n&&a&&(f("ANIMATION_END"),!l.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},s=e=>{e.target===n&&(u.current=i(o.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{o.current=e?getComputedStyle(e):null,s(e)},[])}}(o),c="function"==typeof l?l({present:u.isPresent}):r.Children.only(l),d=(0,s.e)(u.ref,(t=Object.getOwnPropertyDescriptor(c.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.ref:(t=Object.getOwnPropertyDescriptor(c,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.props.ref:c.props.ref||c.ref),f="function"==typeof l;return f||u.isPresent?r.cloneElement(c,{ref:d}):null};function i(e){return e?.animationName||"none"}o.displayName="Presence"}},function(e){e.O(0,[7533,7245,4962,1080,2971,7864,1744],function(){return e(e.s=39012)}),_N_E=e.O()}]);